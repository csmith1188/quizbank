<%- include('../../partials/header.ejs', {title: 'Content' }) %>
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/content.css">

    <main class="container">
        <div class="glass-card">
            <h2 class="browser-title">Browse Content</h2>
            <div class="browser-search-row">
                <input type="text" id="searchInput" class="browser-search" placeholder="Search by name or number...">
                <button id="searchBtn" class="browser-search-btn" title="Search"><span>üîç</span></button>
                <button id="pickQuestionsBtn" class="browser-search-btn" title="Pick Questions"
                    onclick="pickQuestions()"><span>üìã Pick Questions</span></button>
            </div>
            <nav class="browser-tabs" id="browserTabs">
                <button class="browser-tab active" data-view="courses"><span>Courses</span></button>
                <button class="browser-tab" data-view="sections"><span>Sections</span></button>
                <button class="browser-tab" data-view="units"><span>Units</span></button>
                <button class="browser-tab" data-view="tasks"><span>Tasks</span></button>
                <button class="browser-tab" data-view="questions"><span>Questions</span></button>
            </nav>
            <div class="browser-selected-path" id="browserSelectedPath"></div>
            <div class="browser-list-area" id="browserListArea"></div>
            <div class="upload-section">
                <h3>Bulk Upload</h3>
                <form id="bulk-upload-form" action="/api/bulk-upload/upload" method="POST"
                    enctype="multipart/form-data">
                    <input type="file" name="sheet" accept=".xlsx,.xls" required>
                    <input type="hidden" name="sectionUid" placeholder="Section UID" required>
                    <button type="submit">Upload</button>
                </form>
            </div>
            <form id="course-upload-form" action="/api/course-upload/upload" method="POST">
                <button type="button" id="openCourseModalBtn">Upload Course</button>
            </form>

            <div id="courseModal" class="course-modal hidden">
                <div class="course-modal-content glass-card">
                    <h3>Create New Course</h3>
                    <input type="text" id="courseNameInput" placeholder="Enter course name..." />
                    <div class="course-modal-buttons">
                        <button id="submitCourseBtn" class="modal-btn">Create</button>
                        <button id="cancelCourseBtn" class="modal-btn cancel">Cancel</button>
                    </div>
                </div>
            </div>

            <form id="section-upload-form" action="/api/section-upload/upload" method="POST">
                <button type="submit" id="openSectionModalBtn">Upload Section</button>
            </form>

            <div id="newSectionModal" class="course-modal hidden">
                <div class="course-modal-content glass-card">
                    <h3>Create Section</h3>
                    <input type="text" id="moduleNameInput" placeholder="Enter section name..." />
                    <div class="course-modal-buttons">
                        <button id="submitModuleBtn" class="modal-btn">Create</button>
                        <button id="cancelModuleBtn" class="modal-btn cancel">Cancel</button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <script id="all-course-data" type="application/json">
<%- allContentData %>
</script>
    <script src="/client-js/content.js"></script>
    <script src="/client-js/edit-question.js"></script>
    <script src="/client-js/add-data.js"></script>
    <%- include('../../partials/footer.ejs') %>